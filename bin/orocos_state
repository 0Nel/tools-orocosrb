#! /usr/bin/env ruby

require 'orocos'
require 'pp'
require 'utilrb/pkgconfig'

# First, load all toolkits that are available
Utilrb::PkgConfig.each_package(/-toolkit-/) do |name|
    name =~ /-toolkit-/
    Orocos::CORBA.load_toolkit $`
end

Orocos.task_names.each do |name|
    begin
        task = Orocos::TaskContext.get(name)
    rescue Orocos::NotFound
    end
    pp task
    puts
end

